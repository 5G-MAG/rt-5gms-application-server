worker_processes 5;
error_log	{error_log_path};
pid		{pid_path};
worker_rlimit_nofile 8192;

include /usr/share/nginx/modules/*.conf;

events {{
  worker_connections 4096;
#  debug_connection 127.0.0.0/8;
}}

http {{
  log_format   main '$remote_addr - $remote_user [$time_local] $status '
    '"$request" $body_bytes_sent "$http_referer" '
    '"$http_user_agent" "$http_x_forwarded_for"';
  access_log   {access_log_path} main;
  sendfile     on;
  tcp_nopush   on;
  tcp_nodelay  on;
  keepalive_timeout 65;
  types_hash_max_size 4096;
  client_body_temp_path {client_body_tmp};
  proxy_temp_path {proxy_temp_path};
  proxy_cache_path {proxy_cache_path} levels=1:2 use_temp_path=on keys_zone=one:10m;
  fastcgi_temp_path {fastcgi_temp_path};
  uwsgi_temp_path {uwsgi_temp_path};
  scgi_temp_path {scgi_temp_path};

  include             /etc/nginx/mime.types;
  default_type        application/octet-stream;

  server_names_hash_bucket_size 128; # this seems to be required for some vhosts

{server_configs}

#  server {{
#    listen       8080 default_server;
#    listen       [::]:8080 default_server;
#    server_name  _;
#    root         /usr/share/nginx/html;
#    error_page 404 /404.html;
#    location = /404.html {{
#    }}
#    error_page 500 502 503 504 /50x.html;
#    location = /50x.html {{
#    }}
#  }}
}}
